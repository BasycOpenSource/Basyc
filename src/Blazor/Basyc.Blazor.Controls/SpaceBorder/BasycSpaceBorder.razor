@using BlazorComponentUtilities;

@namespace Basyc.Blazor.Controls

<basycSpaceBorder class="@classToRender" style="@styleToRender">
    @ChildContent
</basycSpaceBorder>

@code {

    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    [Parameter]
    public SpaceSize Size { get; set; }

    private SpaceSize? sizeTop;
    [Parameter]
    public SpaceSize SizeTop
    {
        get => sizeTop ?? Size;
        set => sizeTop = value;
    }

    private SpaceSize? sizeBottom;
    [Parameter]
    public SpaceSize SizeBottom
    {
        get => sizeBottom ?? Size;
        set => sizeBottom = value;
    }

    private SpaceSize? sizeLeft;
    [Parameter]
    public SpaceSize SizeLeft
    {
        get => sizeLeft ?? Size;
        set => sizeLeft = value;
    }

    private SpaceSize? sizeRight;
    [Parameter]
    public SpaceSize SizeRight
    {
        get => sizeRight ?? Size;
        set => sizeRight = value;
    }

    [Parameter]
    public bool StretchHeight { get; set; }

    [Parameter]
    public bool StretchWidth { get; set; } = true;


    private string classToRender = "";
    private string styleToRender = "";
    protected override void OnParametersSet()
    {
        base.OnParametersSet();
        classToRender = new CssBuilder()
            .AddClass("basycSpaceBorder--strechHeight", StretchHeight)
            .AddClass("basycSpaceBorder--strechWidth", StretchWidth)
            .Build();

        styleToRender = $"padding-top: {SizeTop.GetSizeCssVariable()}; padding-bottom: {SizeBottom.GetSizeCssVariable()}; padding-left: {SizeLeft.GetSizeCssVariable()}; padding-right: {SizeRight.GetSizeCssVariable()};";

    }
}
