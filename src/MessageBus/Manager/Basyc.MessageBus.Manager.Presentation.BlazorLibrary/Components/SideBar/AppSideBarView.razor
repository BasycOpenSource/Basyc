@using Basyc.MessageBus.Manager.Presentation.BlazorLibrary.Shared.Helpers.Htmls;

@inherits BasycReactiveBlazorComponentBase<AppSideBarViewModel>
<sideMenu>
    <BasycStyleSection SectionName="1">
        <BasycSpaceBorder Size="SpacerSize.Medium" SizeBottom="SpacerSize.None">
            <BasycHeading Size="HeadingSize.H4">
                Endpoints
            </BasycHeading>
        </BasycSpaceBorder>

        <MudExpansionPanels Class="requestPanel" DisableBorders="true" Elevation="0" MultiExpansion="true">
            @foreach (var messageGroup in messageGroups)
            {
                @* <MudList Clickable="true" Dense="true" DisablePadding="true" DisableGutters="true">
            <MudListItem InitiallyExpanded="true" Dense="true" DisableGutters="true">
            <ChildContent>
            <gutters>
            <domainHeading>
            @Html.Icon(IconsEnum.folder)
            @messageGroup.Name
            </domainHeading>
            </gutters>
            </ChildContent>

            <NestedList>
            @foreach (var message in messageGroup.Messages)
            {
            <messageItem @onclick="() => ViewModel.SelectMessage(message)">
            <AppSideBarMessageItemView MessageInfo="@message" />
            </messageItem>
            }
            </NestedList>
            </MudListItem>
            </MudList>
            *@

                <MudExpansionPanel Class="groupPanel" Dense="true" DisableGutters="true" IsInitiallyExpanded="true">
                    <TitleContent>
                        <gutters>
                            <domainHeading>
                                @Html.Icon(IconsEnum.folder)
                                @messageGroup.Name
                            </domainHeading>
                        </gutters>
                    </TitleContent>
                    <ChildContent>
                        <messages>
                            @foreach (var message in messageGroup.Messages)
                            {
                                <messageItem @onclick="() => ViewModel.SelectMessage(message)">
                                    <AppSideBarMessageItemView MessageInfo="@message" />
                                </messageItem>
                            }
                        </messages>
                    </ChildContent>
                </MudExpansionPanel>
            }
        </MudExpansionPanels>
    </BasycStyleSection>

</sideMenu>
