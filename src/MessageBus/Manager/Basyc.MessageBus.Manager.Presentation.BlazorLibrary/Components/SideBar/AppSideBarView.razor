@using Excubo.Blazor.ScriptInjection
@using Basyc.Blazor.Controls.HtmlExtensions
@using Html = Basyc.Blazor.Controls.HtmlExtensions.Html

@inherits BasycReactiveBlazorComponentBase<AppSideBarViewModel>
<sideMenu>
    <BasycStyleSection SectionName="1">
        <BasycSpaceBorder Size="SpaceSize.Medium" SizeBottom="SpaceSize.None">
            <BasycHeading Size="HeadingSize.H4">
                Endpoints
            </BasycHeading>
        </BasycSpaceBorder>

        <MudExpansionPanels Class="requestPanel" DisableBorders="true" Elevation="0" MultiExpansion="true">
            @foreach (var messageGroup in messageGroups)
            {
                <MudExpansionPanel Class="groupPanel" Dense="true" DisableGutters="true" IsInitiallyExpanded="true">
                    <TitleContent>
                        <gutters>
                            <domainHeading>
                                @Html.Methods.Icon(IconsEnum.folder)
                                @messageGroup.Name
                            </domainHeading>
                        </gutters>
                    </TitleContent>
                    <ChildContent>
                        <messages>
                            @foreach (var message in messageGroup.Messages)
                            {
                                <messageItem @onclick="() => ViewModel.SelectMessage(message)">
                                    <AppSideBarMessageItemView MessageInfo="@message" />
                                </messageItem>
                            }
                        </messages>
                    </ChildContent>
                </MudExpansionPanel>
            }
        </MudExpansionPanels>
    </BasycStyleSection>
</sideMenu>
